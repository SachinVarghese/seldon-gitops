{
    "kind": "SeldonDeployment",
    "apiVersion": "machinelearning.seldon.io/v1alpha2",
    "metadata": {
        "name": "openvino-model",
        "namespace": "seldon",
        "creationTimestamp": null,
        "labels": {
            "fluentd": "true"
        }
    },
    "spec": {
        "name": "openvino",
        "predictors": [
            {
                "name": "openvino",
                "graph": {
                    "name": "imagenet-otransformer",
                    "children": [
                        {
                            "name": "imagenet-itransformer",
                            "children": [
                                {
                                    "name": "imagenet-combiner",
                                    "children": [
                                        {
                                            "name": "tfserving-proxy1",
                                            "type": "MODEL",
                                            "implementation": "UNKNOWN_IMPLEMENTATION",
                                            "endpoint": {
                                                "service_host": "localhost",
                                                "service_port": 9503,
                                                "type": "GRPC"
                                            },
                                            "parameters": [
                                                {
                                                    "name": "grpc_endpoint",
                                                    "value": "localhost:8001",
                                                    "type": "STRING"
                                                },
                                                {
                                                    "name": "model_name",
                                                    "value": "densenet169",
                                                    "type": "STRING"
                                                },
                                                {
                                                    "name": "model_output",
                                                    "value": "classifier",
                                                    "type": "STRING"
                                                },
                                                {
                                                    "name": "model_input",
                                                    "value": "data",
                                                    "type": "STRING"
                                                }
                                            ]
                                        },
                                        {
                                            "name": "tfserving-proxy2",
                                            "type": "MODEL",
                                            "implementation": "UNKNOWN_IMPLEMENTATION",
                                            "endpoint": {
                                                "service_host": "localhost",
                                                "service_port": 9504,
                                                "type": "GRPC"
                                            },
                                            "parameters": [
                                                {
                                                    "name": "grpc_endpoint",
                                                    "value": "localhost:8002",
                                                    "type": "STRING"
                                                },
                                                {
                                                    "name": "model_name",
                                                    "value": "resnet50",
                                                    "type": "STRING"
                                                },
                                                {
                                                    "name": "model_output",
                                                    "value": "prob",
                                                    "type": "STRING"
                                                },
                                                {
                                                    "name": "model_input",
                                                    "value": "data",
                                                    "type": "STRING"
                                                }
                                            ]
                                        }
                                    ],
                                    "type": "COMBINER",
                                    "implementation": "UNKNOWN_IMPLEMENTATION",
                                    "endpoint": {
                                        "service_host": "localhost",
                                        "service_port": 9502,
                                        "type": "GRPC"
                                    }
                                }
                            ],
                            "type": "TRANSFORMER",
                            "implementation": "UNKNOWN_IMPLEMENTATION",
                            "endpoint": {
                                "service_host": "localhost",
                                "service_port": 9500,
                                "type": "GRPC"
                            }
                        }
                    ],
                    "type": "OUTPUT_TRANSFORMER",
                    "implementation": "UNKNOWN_IMPLEMENTATION",
                    "endpoint": {
                        "service_host": "localhost",
                        "service_port": 9501,
                        "type": "GRPC"
                    }
                },
                "componentSpecs": [
                    {
                        "metadata": {
                            "creationTimestamp": null
                        },
                        "spec": {
                            "containers": [
                                {
                                    "name": "imagenet-itransformer",
                                    "image": "seldonio/openvino-demo-transformer:0.1",
                                    "ports": [
                                        {
                                            "name": "metrics",
                                            "containerPort": 6000,
                                            "protocol": "TCP"
                                        }
                                    ],
                                    "env": [
                                        {
                                            "name": "TRACING",
                                            "value": "1"
                                        },
                                        {
                                            "name": "JAEGER_AGENT_HOST",
                                            "value": "jaeger-agent"
                                        },
                                        {
                                            "name": "DTYPE",
                                            "value": "float32"
                                        }
                                    ],
                                    "resources": {},
                                    "volumeMounts": [
                                        {
                                            "name": "seldon-podinfo",
                                            "mountPath": "/etc/podinfo"
                                        }
                                    ]
                                },
                                {
                                    "name": "imagenet-otransformer",
                                    "image": "seldonio/openvino-demo-transformer:0.1",
                                    "ports": [
                                        {
                                            "name": "metrics",
                                            "containerPort": 6001,
                                            "protocol": "TCP"
                                        }
                                    ],
                                    "env": [
                                        {
                                            "name": "TRACING",
                                            "value": "1"
                                        },
                                        {
                                            "name": "JAEGER_AGENT_HOST",
                                            "value": "jaeger-agent"
                                        }
                                    ],
                                    "resources": {},
                                    "volumeMounts": [
                                        {
                                            "name": "seldon-podinfo",
                                            "mountPath": "/etc/podinfo"
                                        }
                                    ]
                                },
                                {
                                    "name": "imagenet-combiner",
                                    "image": "seldonio/openvino-demo-combiner:0.1",
                                    "ports": [
                                        {
                                            "name": "metrics",
                                            "containerPort": 6002,
                                            "protocol": "TCP"
                                        }
                                    ],
                                    "env": [
                                        {
                                            "name": "TRACING",
                                            "value": "1"
                                        },
                                        {
                                            "name": "JAEGER_AGENT_HOST",
                                            "value": "jaeger-agent"
                                        }
                                    ],
                                    "resources": {},
                                    "volumeMounts": [
                                        {
                                            "name": "seldon-podinfo",
                                            "mountPath": "/etc/podinfo"
                                        }
                                    ]
                                },
                                {
                                    "name": "tfserving-proxy1",
                                    "image": "seldonio/tfserving-proxy:0.2",
                                    "ports": [
                                        {
                                            "name": "metrics",
                                            "containerPort": 6003,
                                            "protocol": "TCP"
                                        }
                                    ],
                                    "env": [
                                        {
                                            "name": "TRACING",
                                            "value": "1"
                                        },
                                        {
                                            "name": "JAEGER_AGENT_HOST",
                                            "value": "jaeger-agent"
                                        }
                                    ],
                                    "resources": {},
                                    "volumeMounts": [
                                        {
                                            "name": "seldon-podinfo",
                                            "mountPath": "/etc/podinfo"
                                        }
                                    ]
                                },
                                {
                                    "name": "tfserving-proxy2",
                                    "image": "seldonio/tfserving-proxy:0.2",
                                    "ports": [
                                        {
                                            "name": "metrics",
                                            "containerPort": 6004,
                                            "protocol": "TCP"
                                        }
                                    ],
                                    "env": [
                                        {
                                            "name": "TRACING",
                                            "value": "1"
                                        },
                                        {
                                            "name": "JAEGER_AGENT_HOST",
                                            "value": "jaeger-agent"
                                        }
                                    ],
                                    "resources": {},
                                    "volumeMounts": [
                                        {
                                            "name": "seldon-podinfo",
                                            "mountPath": "/etc/podinfo"
                                        }
                                    ]
                                },
                                {
                                    "name": "openvino-model-server1",
                                    "image": "intelaipg/openvino-model-server:latest",
                                    "command": [
                                        "/ie-serving-py/start_server.sh"
                                    ],
                                    "args": [
                                        "ie_serving",
                                        "model",
                                        "--model_path",
                                        "gs://public-artifacts/intelai_public_models/densenet_169",
                                        "--model_name",
                                        "densenet169",
                                        "--port",
                                        "8001"
                                    ],
                                    "ports": [
                                        {
                                            "name": "grpc",
                                            "containerPort": 8001,
                                            "protocol": "TCP"
                                        }
                                    ],
                                    "env": [
                                        {
                                            "name": "LOG_LEVEL",
                                            "value": "DEBUG"
                                        }
                                    ],
                                    "resources": {}
                                },
                                {
                                    "name": "openvino-model-server2",
                                    "image": "intelaipg/openvino-model-server:latest",
                                    "command": [
                                        "/ie-serving-py/start_server.sh"
                                    ],
                                    "args": [
                                        "ie_serving",
                                        "model",
                                        "--model_path",
                                        "gs://public-artifacts/intelai_public_models/resnet_50_i8",
                                        "--model_name",
                                        "resnet50",
                                        "--port",
                                        "8002"
                                    ],
                                    "ports": [
                                        {
                                            "name": "grpc",
                                            "containerPort": 8002,
                                            "protocol": "TCP"
                                        }
                                    ],
                                    "env": [
                                        {
                                            "name": "LOG_LEVEL",
                                            "value": "DEBUG"
                                        }
                                    ],
                                    "resources": {}
                                }
                            ],
                            "terminationGracePeriodSeconds": 1
                        }
                    }
                ],
                "replicas": 1,
                "engineResources": {},
                "labels": {
                    "version": "openvino"
                },
                "svcOrchSpec": {
                    "env": [
                        {
                            "name": "TRACING",
                            "value": "1"
                        },
                        {
                            "name": "JAEGER_AGENT_HOST",
                            "value": "jaeger-agent"
                        },
                        {
                            "name": "JAEGER_AGENT_PORT",
                            "value": "5775"
                        },
                        {
                            "name": "JAEGER_SAMPLER_TYPE",
                            "value": "const"
                        },
                        {
                            "name": "JAEGER_SAMPLER_PARAM",
                            "value": "1"
                        }
                    ]
                },
                "traffic": 100
            }
        ]
    },
    "status": {}
}